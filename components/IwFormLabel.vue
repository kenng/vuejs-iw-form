<script setup lang='ts'>
///////////////////////////////////////////////@  Import, Types & meta
//////////////////////////////////////////////////////////////////////
import { setLabel, setRequired } from '../composables/useIwForm';
import { Icon } from '@iconify/vue';
import { directive as tippyDirective } from 'vue-tippy'

//////////////////////////////////////////////////////@  Props & Emits
//////////////////////////////////////////////////////////////////////
const props = defineProps({
    id: {
        type: String,
        required: true,
    },
    item: {
        type: Object as PropType<IwFormInputCore>,
        required: true,
    }
})

//////////////////////////////////////////////////////////@  Variables
//////////////////////////////////////////////////////////////////////
const vTippy = tippyDirective

/////////////////////////////////////////////////@  Computed & Watches
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////@  Functions
//////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////@  Lifecycles
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////@ Initialization
//////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////@  Export & Expose
//////////////////////////////////////////////////////////////////////
</script>

<template>
    <div class="iwFormInputLabelInlineWrapper">
        <template v-if="item.hasLabelForAttr || undefined === item.hasLabelForAttr">
            <label :for="props.id"
                   class="iwFormInputLabelInline">{{ setLabel(item) }}
            </label>
        </template>
        <template v-else>
            <span class="iwFormInputLabelInline">{{ setLabel(item) }}
            </span>
        </template>

        <span v-if="setRequired((item as IwFormInputCore))"
              class="iwFormInputLabelRequired"> *</span>

        <span v-if="(item as IwFormInputCore).tooltip">
            <Icon icon="material-symbols:contact-support-outline-rounded"
                  class="iwFormInputLabelInlineIcon"
                  v-tippy="(item as IwFormInputCore).tooltip" />
        </span>
    </div>
</template>

<style scoped>
</style>
