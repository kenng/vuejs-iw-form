<script setup lang='ts'>
///////////////////////////////////////////////@  Import, Types & meta
//////////////////////////////////////////////////////////////////////
import IwFormUploadConfig from '~/components/Forms/IwForm/utils/IwFormUploadConfig'


//////////////////////////////////////////////////////@  Props & Emits
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////@  Variables
//////////////////////////////////////////////////////////////////////

const config = ref(new IwFormUploadConfig({
    type: 'image',
    uploadFunc: onUpload,
}))


/////////////////////////////////////////////////@  Computed & Watches
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////@  Functions
//////////////////////////////////////////////////////////////////////
async function onUpload(files?: FileList | null, content?: string) {
    console.log(files);
    // const endpoint = AppUrl.API_UPLOAD_EVENT_FEATURED_IMAGE(441)
    // const data = new FormData()
    // data.append('image', files![0])
    // const res = await post(endpoint, data) as UploadResponse
    // if (res.url) {
    //     config.value.setImageSrc(res.url)
    // }
}

/////////////////////////////////////////////////////////@  Lifecycles
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////@ Initialization
//////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////@  Export & Expose
//////////////////////////////////////////////////////////////////////
</script>

<template>
    <IwFormUpload :config="config"></IwFormUpload>
</template>

<style scoped>
</style>
